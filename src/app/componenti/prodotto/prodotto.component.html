<app-category></app-category>


<div class="background">
    <div class="firstRow">
      <div class="singleProductImage">
        <img class="img" [src]="'data:image/png;base64,' + imagesSingleProduct" class="matCardImg">
      </div>

      <mat-card class="productDescription">
        <mat-card-title>{{nome}}</mat-card-title>
        <mat-card-content>{{descrizione}}</mat-card-content>
      </mat-card>

      <div class="cart">
        <mat-card class="addCartCard">
            <mat-card-title>{{prezzo}}€</mat-card-title>
            <div class="counter">
              <span class="down">-</span>
              <input id="quantityValue" type="text" value="1" disabled>
              <span class="up">+</span>
            </div>
          <button id="addCartButton">Acquista</button>
          <mat-card-footer>Pagamento: Transazione sicura</mat-card-footer>
          <mat-card-footer>Spedizione: CarDoc</mat-card-footer>
          <mat-card-footer>Venditore: {{venditore}}</mat-card-footer>
        </mat-card>
      </div>
    </div>



  <div class="secondRow">
    <div class="reviewsBox">
      <p class="noReviewsFound" *ngIf="recensioni.length == 0">Non sono presenti recensioni per questo annuncio.</p>
      <div class="reviews" *ngFor="let recensione of recensioni; index as i">
        <p>Scritta da: {{recensione.autore}}</p>
        <p class="reviewObject">Oggetto: {{recensione.titolo}}</p>
        <p>Rating: {{recensione.rating}}/5</p>
        <div *ngIf="this.auth.isLoggedIn && (this.auth.isAdmin() || checkIfSameReviewOwner(recensione))"> <a (click)="deleteRecensione(recensione.id)" class="removeReview">Rimuovi recensione</a> </div>
      </div>
    </div>
  </div>


    <div class="thirdRow">
      <div class="relatedProductDiv">
        <h1>Articoli correlati:</h1>
        <mat-grid-list [cols]=5 gutterSize="25px" rowHeight="470px" class="relatedProductMat">
          <mat-grid-tile *ngFor="let prod of prodottiCorrelati">
            <a href="http://localhost:4200/prodotto/{{prod.id}}" style="text-decoration: none; color: black;">
              <mat-card class="cards">
                <div class="relatedImageContainer">
                  <img id="relatedProductImg" [src]="'data:image/png;base64,' + this.relatedProductimages[prod.id]"
                       onerror="this.src='assets/no_images_found.png'">
                </div>
                  <mat-card-footer>
                    <mat-card-title>{{prod.nome}}</mat-card-title>
                    <mat-card-subtitle>{{prod.venditore}}</mat-card-subtitle>
                    <mat-card-title>{{prod.prezzo}}€</mat-card-title>
                  </mat-card-footer>
              </mat-card>
            </a>
          </mat-grid-tile>
        </mat-grid-list>
      </div>
    </div>

</div>


<button mat-fab class="fab-button" title="Condividi annuncio">
  <mat-icon>share</mat-icon>
</button>
<div class="fab-menu">
  <button class="facebookButton" mat-button>
    <fa-icon style="font-size: 20px;"></fa-icon>
  </button>
  <button class="whatsappButton" mat-button>
    <fa-icon  style="font-size: 20px;"></fa-icon>
  </button>
  <button class="emailButton" mat-button>
    <fa-icon  style="font-size: 20px;"></fa-icon>
  </button>
</div>

<button mat-fab class="fab-button-2"title="Aggiungi recensione">
  <mat-icon>add_circle</mat-icon>
</button>

